[project]
name = "yosoi"
version = "0.1.0"
requires-python = ">=3.13"
classifiers = [
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
]
dependencies = [
  "dspy>=3.0.4",
  "langchain<1",
  "langchain-community>=0.3",
  "langchain-core>=0.3",
  "langchain-google-genai>=2",
  "python-dotenv>=1.2.1",
  "requests>=2.31",
  "rich>=14.2.0",
  "scrapegraphai>=1.64",
  "toonify",
]

[dependency-groups]
dev = [
  "commitizen>=3.13",
  "mypy>=1.8",
  "pre-commit>=3.6",
  "types-beautifulsoup4>=4.12",
  "types-requests>=2.31",
]

[tool.ruff]
# Assume Python 3.11
target-version = "py311"

# Same as Black.
line-length = 120
indent-width = 4

# Like Black, use double quotes for strings.
format.quote-style = "single"
# Like Black, automatically detect the appropriate line ending.
format.line-ending = "auto"
# Like Black, respect magic trailing commas.
format.skip-magic-trailing-comma = false
lint.select = [
  "ARG",
  "B",
  "C901",
  "E",
  "F",
  "I",
  "PERF",
  "RET",
  "SIM",
  "TID",
  "UP",
  "W",
]
lint.ignore = [
  "ARG001", # unused args are common in dynamic APIs
  "B008",   # allow function calls in defaults when intentional
  "E402",
  "E501",   # formatter handles line length
  "RET504", # allow implicit return None
  "SIM108",
  "W293",
]
lint.mccabe.max-complexity = 13

[tool.mypy]
python_version = "3.13"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = false    # Set to true when ready for strict typing
disallow_any_generics = false
disallow_subclassing_any = false
disallow_untyped_calls = false
disallow_incomplete_defs = false
check_untyped_defs = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true
show_error_codes = true
show_column_numbers = true
pretty = true

# Per-module options
[[tool.mypy.overrides]]
module = [
  "scrapegraphai.*",
  "langchain.*",
  "langchain_google_genai.*",
  "langchain_core.*",
  "langchain_community.*",
  "dspy.*",
  "toonify.*",
]
ignore_missing_imports = true

[tool.commitizen]
name = "cz_conventional_commits"
tag_format = "v$version"
version_scheme = "semver"
version_provider = "pep621"     # Reads/updates version in [project] section of pyproject.toml
update_changelog_on_bump = true
major_version_zero = true       # Keeps you in 0.x.x (beta) semantics until you release 1.0.0

# Optional: distinct types allowed in your project
types = [
  { value = "feat", name = "feat: A new feature" },
  { value = "fix", name = "fix: A bug fix" },
  { value = "docs", name = "docs: Documentation only changes" },
  { value = "style", name = "style: Formatting (ruff, black, etc)" },
  { value = "refactor", name = "refactor: Code change that neither fixes a bug nor adds a feature" },
  { value = "perf", name = "perf: A code change that improves performance" },
  { value = "test", name = "test: Adding or correcting tests" },
  { value = "build", name = "build: Changes that affect the build system (uv, pyproject.toml)" },
  { value = "ci", name = "ci: CI configuration (GitHub Actions)" },
  { value = "chore", name = "chore: Other changes that don't modify src or test files" },
]
